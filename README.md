![메인페이지](https://github.com/Eungae-D/Dallim/assets/135101171/bd848807-e07b-49ae-99c4-970bda51e714)

# 소개

## 개요

**_👏 SSAFY 9기 2학기 자율 프로젝트 👏_**  
<aside>
<img src="https://img.icons8.com/?size=256&id=tU8qkYjR9C29&format=png" alt="https://img.icons8.com/?size=256&id=tU8qkYjR9C29&format=png" width="40px" /> **갤럭시 워치**를 이용한 러닝 서비스 어플리케이션입니다.

달림은 **나 자신과의 경쟁**에서 시작되었습니다. 러닝을 하며 나 자신과, 그리고 다른 사람과 경쟁을 하면서 성취감도 얻고 러닝에 대한 동기 부여도 얻을 수 있는 서비스입니다.

**워치**를 이용하여 러닝을 하고, 러닝이 끝나면 실시간으로 연동되는 데이터를 **모바일**에서 러닝 기록을 확인할 수 있습니다. 또한 캐릭터, 행성에 대한 **커스터마이징**, 지정된 날짜/시간에 대한 **알림**, 실시간 러닝 **랭킹** 등을 통해 사용자가 꾸준히 러닝을 할 수 있도록 하였습니다.

</aside>

> 2023.10.9 ~ 2023.11.17 (6주)

<br/>
# ⌛ 프로젝트 기간 : 2023. 10. 9 ~ 2023. 11. 17.

# 👥 팀 구성
<table align="center">
  <tr>
    <td align="center"><a href="https://github.com/pum005"><img src="https://avatars.githubusercontent.com/u/108645121?v=4" width="100px;" height="120px;" alt=""/><br /><sub><b>최시환<br>Back-end<br/></b></sub></a></td>
    <td align="center"><a href="https://github.com/qkrrlgus114"><img src="https://avatars.githubusercontent.com/u/121294224?v=4" width="100px;" height="120px;" alt=""/><br /><sub><b>박기현<br> Back-end<br/></b></sub></a></td>
    <td align="center"><a href="https://github.com/yeonchaking"><img src="https://avatars.githubusercontent.com/u/99801068?v=4" width="100px;" height="120px;" alt=""/><br /><sub><b>연제경<br>PM/Full-Stack<br/></b></sub></a></td>
    <td align="center"><a href="https://github.com/Eungae-D"><img src="https://avatars.githubusercontent.com/u/135101171?v=4" width="100px;" height="120px;" alt=""/><br /><sub><b>최규호<br> Front-end<br/></b></sub></a></td>
    <td align="center"><a href="https://github.com/soyeonnnb"><img src="https://avatars.githubusercontent.com/u/71217221?v=4" width="100px;" height="120px;" alt=""/><br /><sub><b>김소연<br> Front-end<br/></b></sub></a></td>
    <td align="center"><a href="https://github.com/SeongLI"><img src="https://avatars.githubusercontent.com/u/110223414?v=4" width="100px;" height="120px;" alt=""/><br /><sub><b>이은성<br> Front-end<br/></b></sub></a></td>
</table>
</br>


# 📌 주요 기능

<details>
<summary>:full_moon:<strong>메인 페이지</strong></summary>
<br>

|  비 로그인  |  메인 |  워치 가이드 |  
| :-----------------------------------------------------------------: | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/main/notLogin.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/main/main.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/main/privacypolicy.png"  width="200" height="300"/>   |
| 어플을 키고 소셜 로그인(네이버, 카카오)을 통해 로그인을 할 수 있습니다. | 소셜 로그인을 성공하면 메인 페이지로 이동하게 됩니다.  | 갤럭시 워치에 대한 가이드를 볼 수 있습니다. |

 |  달력  |  개인정보 처리방침 |
 | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
 | <img src="./frontend/Dallim/src/assets/readme/main/watchGuide.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/main/privacypolicy.png"  width="200" height="300"/>  |
 | 서비스 출석일과 관련된 달력입니다. 출석의 경우 해당 날짜에 달리기 종료시, 출석으로 인정됩니다. | 서비스 개인정보 처리에 대한 링크로 이어지는 창이 뜹니다. 확인을 선택하면 서비스 개인정보 처리방침 페이지로 이동하게 됩니다.  |
 
</details>

<details>
<summary>:waxing_gibbous_moon:<strong>차트 페이지</strong></summary>
<br>

|  차트 메인  |  차트 메인(하단 스크롤업) |  러닝 그래프 터치 |  
| :-----------------------------------------------------------------: | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/chart/chartMain.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/chart/chartMainBottomUp.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/chart/moveRunningRecord.png"  width="200" height="300"/>   |
| 차트 메인페이지입니다. 달력을 통해 어느 날짜에 러닝을 했는지, 이번주 기록이 어떻게 되는지 확인할 수 있습니다. | 하단 스크롤바를 위로 올리면 월별로 달린 기록을 확인할 수 있습니다.  | 러닝 그래프 터치시 해당 러닝 기록을 볼 수 있습니다. |

|  차트 메인(슬라이드)  |  차트 기록 |  페이스 차트 |  
| :-----------------------------------------------------------------: | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/chart/chartMainSlide.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/chart/runningRecord.png"  width="200" height="300"/> <img src="./frontend/Dallim/src/assets/readme/chart/runningRecordTwo.png"  width="200" height="300"/> <img src="./frontend/Dallim/src/assets/readme/chart/runningRecordThree.png"  width="200" height="300"/> | <img src="./frontend/Dallim/src/assets/readme/chart/paceChart.png"  width="200" height="300"/>   |
| 달력에 표시된 러닝 기록 선택 시, 해당 일자에 뛴 기록이 나타나게 됩니다.  | 카드 선택 시, 기록의 상세보기로 이동하며 해당 뷰에서 스크롤을 통해 속도, 심박수 그래프, 같이 달린 러닝메이트도 함께 나타납니다.  | 차트 기록에서 오른쪽 슬라이드를 통해 페이스 차트를 확인할 수 있습니다. |

|  페이스 차트 터치  |  페이스 차트 비교 |  러닝 메이트와 기록비교 |  심박수 차트  | 
| :--------------------------------------------------------------: | :--------------------------------------------------------------: | :--------------------------------------------------------------: | :--------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/chart/paceChartTouch.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/chart/runningTogetherTwo.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/chart/compareRunningRecord.png"  width="200" height="300"/>   | <img src="./frontend/Dallim/src/assets/readme/chart/heartBeatTwo.png"  width="200" height="300"/> |  
| 그래프를 선택하면 선택한 지점의 평균 페이스가 나타납니다. | 같이 달리기 비교 토글 터치 시 함께 달린 러닝메이트와 비교를 할 수 있습니다.  | 같이 달린 러닝메이트와 달린 기록 리스트를 확인할 수 있습니다. | 페이스 차트에서 한칸 더 옆으로 이동 시 심박수 차트가 나타납니다. 해당 그래프 선택 시, 해당 지점에서의 심박수가 있는 영역에 따라 색상이 선택됩니다. | 

</details>

<details>
<summary>:first_quarter_moon:<strong>소셜 페이지</strong></summary>
<br>

|  소셜 메인(전체)  |  러닝메이트 상세보기 |  러닝메이트와 비교하기 | 러닝메이트와 친구추가 |
| :-------------------------------------------------------------: | :-------------------------------------------------------------: | :-------------------------------------------------------------: | :-------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/social/rankingMain.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/social/runningMateRegister.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/social/compareRunningMate.png"  width="200" height="300"/> | <img src="./frontend/Dallim/src/assets/readme/social/followRunningMate.png"  width="200" height="300"/> |
| 소셜버튼 터치시 전체 랭킹을 볼 수 있는 화면입니다. | 랭킹에 나타난 프로필 터치 시 해당 유저의 실제 프로필과 기록들을 볼 수 있습니다. 또한 등록하기 버튼을 통해 러닝메이트를 등록할 수 있습니다.  | 카드 터치 시 해당 러닝 메이트와 나와의 기록을 비교할 수 있습니다. | 친구 요청 버튼을 통해 친구 요청을 보낼 수 있습니다. |

|  소셜 메인(친구)  | 친구 검색 | 친구 목록 |  
| :-----------------------------------------------------------------: | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/social/friendMain.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/social/friendResearch.png"  width="200" height="300"/> <img src="./frontend/Dallim/src/assets/readme/social/followRunningMateTwo.png"  width="200" height="300"/> | <img src="./frontend/Dallim/src/assets/readme/social/runningMateList.png"  width="200" height="300"/>   |
| 상단의 토글 바 터치 시 내가 등록한 친구들의 랭킹을 볼 수 있습니다.  | 메인(친구)의 우측 상단 버튼을 통해 모달(친구 검색, 목록, 받은 요청)을 보여주며, 닉네임 검색을 통하여 유저를 조회,요청할 수 있습니다.  | 친구 목록 버튼을 터치하여 현재 나의 친구 목록을 볼 수 있습니. |

| 친구 목록 삭제 | 받은 요청 | 받은요청 수락, 거절 | 
| :--------------------------------------------------------------: | :--------------------------------------------------------------: | :--------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/social/deleteRunningMate.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/social/acceptRequest.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/social/acceptRunningMate.png"  width="200" height="300"/> |
| 친구 목록에서 삭제 버튼을 누르게 되면 친구가 삭제가 됩니다. | 받은 요청 버튼을 클릭하여 요청받은 목록을 볼 수 있습니다.  | 받은 요청을 수락,또는 거절을 할 수 있습니다. |

</details>

<details>
<summary>:waxing_crescent_moon:<strong>편집 페이지</strong></summary>
<br>

|  편집 메인(캐릭터)  |  캐릭터 구매 |  
| :-------------------------------------------------------------: | :-------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/modify/characterMain.png"  width="200" height="300"/>  <img src="./frontend/Dallim/src/assets/readme/modify/otherCharacter.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/modify/buyCharacter.png"  width="200" height="300"/>  <img src="./frontend/Dallim/src/assets/readme/modify/buyCharacterAccept.png"  width="200" height="300"/> |
| 편집 버튼 터치 시 기본적으로 캐릭터 선택 화면으로 이동하게 됩니다. | 구매 버튼 터치시 포인트를 사용하여 구매할 수 있습니다.  | 

|  편집 메인(행성)  | 워치화면 미리보기 | 행성 구매 |  
| :-----------------------------------------------------------------: | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/modify/planetMain.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/modify/previewPlanet.png"  width="200" height="300"/> | <img src="./frontend/Dallim/src/assets/readme/modify/buyPlanet.png"  width="200" height="300"/> |
| 상단의 행성 토글 터치 시 대표 행성을 지정할 수 있는 페이지로 이동합니다.  | 행성에 있는 워치 버튼을 터치하면 현재 워치에서 나오는 미리 보기 화면을 볼 수 있습니다.  | 잠겨있는 행성을 포인트를 통하여 구매할 수 있습니다. |

</details>

<details>
<summary>:new_moon:<strong>프로필 페이지</strong></summary>
<br>

|  프로필 메인  |  닉네임 변경 | 러닝 메이트 설정 |  
| :-------------------------------------------------------------: | :-------------------------------------------------------------: | :-------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/profile/profileMain.png"  width="200" height="300"/> | <img src="./frontend/Dallim/src/assets/readme/profile/modifyNickname.png"  width="200" height="300"/>  | <img src="./frontend/Dallim/src/assets/readme/profile/runningMateSetting.png"  width="200" height="300"/> |
| 프로필 버튼을 터치 시 프로필 페이지로 이동하며, 나의 정보(레벨, 닉네임, 경험치, 대표캐릭터)를 볼 수 있습니다. | 닉네임 변경은 5글자이상, 띄어쓰기, 닉네임 중복이 발생하게 되면 변경이 불가능합니다. 그 외는 변경할 수 있습니다. | 러닝 메이트 버튼 터치 시 내가 등록한 상대의 러닝 기록을 볼 수 있고, 왼쪽 슬라이드로 러닝 기록 리스트를 볼 수 있습니다. 삭제 버튼 터치 시 내가 설정한 러닝 기록을 삭제 할 수 있습니다. 

|  워치 설정  | 운동 알림 설정 | 로그아웃 |  
| :-----------------------------------------------------------------: | :-----------------------------------------------------------------: | :-----------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/profile/linkToWatch.png"  width="200" height="300"/> |  <img src="./frontend/Dallim/src/assets/readme/profile/runningAlarm.png"  width="200" height="300"/> | <img src="./frontend/Dallim/src/assets/readme/profile/logOut.png"  width="200" height="300"/> |
| 워치 버튼 터치 시 워치 설정 페이지로 이동하며, 워치에서 발급받은 인증번호로 휴대폰이랑 워치를 연동할 수 있습니다.  | 알림 버튼 터치 시 알림 설정 페이지로 이동하며, 원하는 때에 운동을 할 수 있도록, 요일과 시간을 설정하여 푸쉬 알림(FCM)을 받을 수 있습니다.  | 로그아웃 버튼 클릭시 소셜 로그아웃을 진행할 수 있습니다. 네이버는 서비스 로그아웃을 진행할 수 있습니다. |

</details>

<details>
<summary>:full_moon_with_face:<strong>위젯</strong></summary>
<br>

|  위젯  | 
| :-------------------------------------------------------------: |
| <img src="./frontend/Dallim/src/assets/readme/widget/widget.png"  width="200" height="300"/> | 
| 내가 운동한 날짜, 그리고 귀여운 달림 캐릭터들을 위젯으로 사용할 수 있습니다. | 


</details>

# 🔗 주요 기술

- **Brotli 알고리즘을 활용한, 데이터 전송량 70% 압축**
    - 운동 시간이 증가함에 따라, 갤럭시 워치와 서버 간 데이터 전송량이 너무 많이지는 문제가 발생
    - 네트워크 비용을 줄이기 위해, HTTP 생태계의 gzip, brotli 중 압축 성능이 우수한 brotli 알고리즘 적용
      
- **갤럭시 워치에서 제공한 운동 기록 Raw 데이터를 서버에서 필요한 형태로 가공, 저장 파이프라인 구축**
    - 갤럭시워치에서 제공한 운동 raw 데이터를 그대로 MongoDB로 저장하는 것은 불필요한 데이터로 인해 Disk가 낭비되는 문제가 발생   
    - 달림 서비스에서 운동기록을 사용하는 차트와 함께 달리기 기능에 필요한 정보만을 추출해서 저장하도록 변경
    - 불필요한 데이터를 줄이고, 조회 속도를 0.3ms로 개선


## 빌드 환경

| FrontEnd                | BackEnd                                      | Database   | Infra                      |
| :---------------------- | :------------------------------------------- | :--------- | :------------------------- |
| Node.js 18.16.1         | Java 11           | MySQL | AWS EC2 (Ubuntu 20.04 LTS) |
| React.js 18.2.0         | Spring Boot 2.7.15                            | MongoDB    | Docker 23.0.6              |
| react-native        | Gradle 8.1.1                                 | Redis      | Nginx 1.18.0               |
| typescript      | Spring Data JPA                                          |    | Jenkins 2.401.2 LTS        |
| react-native styled components      | Spring Security |            |               |
| | lombok                                       |            |       |
| | Oauth 2.0                                         |   |
| | JWT                                          |  |

<br>

<br>

## 산출물

[✨ Figma 디자인 명세](https://www.figma.com/files/team/1293740638879285710/%EC%97%AC%EB%8D%9F%ED%8A%B8?fuid=1055051160728593576)

[🌳 요구사항 명세서](https://www.notion.so/soyeonnnb/d28d940e32a648dcb0a8b6ec1c266109)

[📌 노션 API 명세](https://www.notion.so/soyeonnnb/913aeb51ff6245d3b476cea3091e390a)

[🐳 ERD Cloud](https://www.erdcloud.com/d/T899y4ovym8Q6wPCW)

<br/>
